:lang: ja
:doctype: book
:toc: left
:toclevels: 3
:toc-title: 目次
:sectnums:
:sectnumlevels: 4
:sectlinks:
:imagesdir: ./_images
:icons: font
:example-caption: 例
:table-caption: 表
:figure-caption: 図
:docname: = 画面仕様書[タスク詳細]

= 画面仕様書[タスク詳細]

== 概要
タスクの詳細を表示し、編集できる画面。

== レイアウト
[[leyout]]
image::memotaro task-image.png[]

== 仕様

=== 詳細画面
.要素
[cols="1,2,2,2,8a"]
[options="header"]
|====
|No.|名称|イベント|コンポーネント|機能説明
|1
|タスク名
|入力
|テキストボックス
|
* タスク名を入力する。入力確定で保存を行う。
* 背景文字に、タスク名と出す。
* クリアされた場合、フォーカスアウトでエラーラベルを表示する。※この場合、保存されない。

|2
|お気に入り（スター）
|クリック
|アイコンボタン
|お気に入りのオン・オフを切り替える。DB更新。

|3
|タスク削除
|クリック
|ボタン
|
* 削除しても良いか、確認ダイヤログを出し、OKならタスクをDBから削除し、画面を閉じる。
* 一覧画面でリロードする。

|4
|ノート紐付け
|クリック
|特殊テキストボックス
|クリックすると、右側に「変更」「クリア」ボタンを表示する。
* 変更ボタン押下 → [ノートフォルダ選択]ダイヤログを表示する。ノートが選択されると、フォルダ→ノートが更新され、表示される。
* クリアボタン押下 → ノートがクリアされる。
またノートが紐づいていない場合は、「ノートを紐づける」というリンクを表示する。選択すると、[ノートフォルダ選択]ダイヤログを表示する。

|5
|タスク完了
|クリック
|チェックボックス
|オンにすると、進捗率を100%にする。オフにすると、進捗率を0%にする。

|6
|タスク進捗率
|入力
|テキストボックス
|タスクの進捗率を入力する。100%にすると、チェックボックスをオンにする。0%にすると、チェックボックスをオフにする。

|7
|[gray]#担当者#
|クリック
|ドロップダウン
|プロジェクトのメンバー一覧から選択することができる。複数人選択不可。

|8
|[gray]#自分を選択#
|クリック
|アイコンボタン
|クリックすると、担当者のドロップダウンにログインユーザーが設定される。

|7
|開始
|クリック
|カレンダーボックス
|カレンダーが開き、選択すると開始日が設定される。

|8
|終了
|クリック
|カレンダーボックス
|カレンダーが開き、選択すると終了日が設定される。

|9
|説明
|入力
|テキストボックス
|説明を更新する

|10
|ドキュメント
|クリック
|特殊
|添付したファイルを表示する。画像ファイルのようにサムネイルを表示できる場合は表示する。表示できないファイル形式の場合、固定のアイコンを表示する。
クリックすると、サムネイル表示可能なファイルの場合は最大化されて表示される。※優先度低。コメントだけにするかも。

|10
|ダウンロード
|クリック
|ボタン
|添付ファイルをダウンロードする

|11
|ドキュメント追加エリア
|ドラッグアンドドロップ
|特殊
|* ファイルをドラッグアンドドロップすると、ファイルがアップロードされる。
* 直上にドキュメント行が作成される。

|12
|ドキュメント追加
|クリック
|ボタン
|* ファイルアップロードダイヤログを表示し、ファイルをアップロードする。
* 直上にドキュメント行が作成される。

|13
|コメント入力
|入力
|テキストボックス
|コメントが入力可能。改行するとテキストボックスが広がる。

|14
|ドキュメント追加(コメント)
|クリック
|ボタン
|* ファイルアップロードダイヤログを表示し、ファイルをアップロードする。

|15
|アップロードファイル
|クリック
|特殊
|* アップロードすると表示されるファイルのサムネイル。サムネイル表示不可のファウルの場合、固定のアイコンを表示する。
* 右上の✖︎ボタンを押下すると、ファイルを削除する。

|16
|コメント投稿ボタン
|クリック
|ボタン
|コメントを投稿する（保存する）。コメントの最上部に投稿したコメントを表示する。

|17
|コメント一覧
|
|
|コメントを一覧表示する。上から投稿日順に並べる。無限スクロールに対応しており、右側にスクロールを出す。

|18
|コメント編集
|クリック
|アイコンボタン
|
* コメントを編集モードにする。
* 「変更する」ボタンと、「キャンセル」ボタンを表示する。

|19
|コメントを変更する
|クリック
|ボタン
|
* コメントを保存する。
* コメントの編集モードを解除する
* 「変更する」ボタンを非表示にする
* 「キャンセル」ボタンを非表示にする

|19
|コメント変更をキャンセルする
|クリック
|ボタン
|
* コメントの編集モードを解除する
* 「変更する」ボタンを非表示にする
* 「キャンセル」ボタンを非表示にする

|20
|コメントを削除
|クリック
|アイコンボタン
|
* 確認ダイヤログを出し、OKの場合、コメントを削除する
* コメント一覧のリロードをかける。

|21
|コメント添付ドキュメント
|クリック
|特殊
|添付したファイルを表示する。画像ファイルのようにサムネイルを表示できる場合は表示する。表示できないファイル形式の場合、固定のアイコンを表示する。
クリックすると、サムネイル表示可能なファイルの場合は最大化されて表示される。

|22
|コメント添付ドキュメントダウンロード
|クリック
|ボタン
|添付ファイルをダウンロードする
|====

=== ノートフォルダ選択ウィンドウ
.要素
[cols="1,2,2,2,8a"]
[options="header"]
|====
|No.|名称|イベント|コンポーネント|機能説明
|1
|フォルダ一覧
|クリック
|リンク
|選択したフォルダの、[ノート選択]ウィンドウに切り替える。
|====

=== ノート選択ウィンドウ
.要素
[cols="1,2,2,2,8a"]
[options="header"]
|====
|No.|名称|イベント|コンポーネント|機能説明
|1
|前のウィンドウに戻る
|クリック
|ボタン
|[ノートフォルダ選択]ウィンドウに切り替える。

|2
|ノート選択
|クリック
|リンク
|本画面を閉じ、[タスク詳細]ウィンドウに戻り、選択したノートのフォルダ階層を[タスク詳細]ウィンドウに反映させる。
|====

== URL
=== 初期状態
[ドメイン]/projects/[projectId]/dashbord/[folderId]/tasks/[taskID]
